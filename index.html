<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>体重・食事目標 自動計算ツール</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: #f7f7f7;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 640px;
      margin: auto;
      background: #fff;
      padding: 24px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    h1 { font-size: 1.5rem; margin-bottom: 16px; }
    .field { margin-bottom: 16px; }
    label { display: block; margin-bottom: 6px; font-weight: 600; }
    input, select { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem; }

    .result { background: #f0f4ff; padding: 16px; border-radius: 8px; margin-top: 24px; }
    .result-row { display: flex; justify-content: space-between; align-items: center; margin: 12px 0; gap: 8px; }
    .result-text { font-weight: 600; }
    button.copy {
      background: #e0e0e0;
      color: #000;
 padding: 12px; border: none; border-radius: 10px; cursor: pointer; font-size: 1rem; width: 160px; }
    .copy-primary {
      background: #2563eb; /* 強調色（青） */
      color: #fff;
      font-weight: 700;
    }
    .copy-primary:active {
      transform: scale(0.98);
    }

    .note { margin-top: 8px; font-size: 0.8rem; color: #555; }

    /* --- スマホ最適化 --- */
    @media (max-width: 480px) {
      body { padding: 12px; }
      .container { padding: 16px; border-radius: 10px; }
      h1 { font-size: 1.3rem; }

      .result-row {
        flex-direction: column;
        align-items: stretch;
        gap: 8px;
      }

      button.copy {
        width: 100%;
        font-size: 1.05rem;
      }

      .note {
        font-size: 0.75rem;
        line-height: 1.5;
      }
    }
      .container { padding: 16px; border-radius: 10px; }
      h1 { font-size: 1.3rem; }

      .result-row {
        flex-direction: column;
        align-items: stretch;
      }

      button.copy {
        width: 100%;
        margin-top: 6px;
      }

      .note {
        font-size: 0.75rem;
        line-height: 1.4;
      }
    }

    /* トースト */
    .toast {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.8);
      color: #fff;
      padding: 10px 16px;
      border-radius: 20px;
      font-size: 0.9rem;
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
      z-index: 999;
    }
    .toast.show { opacity: 1; }
  </style>
</head>
<body>
  <div class="container">
    <h1>体重・食事目標 自動計算ツール</h1>

    <div class="field">
      <label>身長（cm）</label>
      <input type="number" id="height" placeholder="例：170" />
    </div>

    <div class="field">
      <label>現在の体重（kg）</label>
      <input type="number" id="currentWeight" placeholder="例：70" />
    </div>

    <div class="field">
      <label>目標BMI</label>
      <select id="bmi">
        <option value="22">22（標準）</option>
        <option value="25">25</option>
      </select>
    </div>

    <div class="field">
      <label>減量率（%）</label>
      <select id="reduction">
        <option value="3">3%</option>
        <option value="5">5%</option>
        <option value="7">7%</option>
        <option value="10">10%</option>
      </select>
    </div>

    <div class="field">
      <label>食事摂取量係数</label>
      <select id="intake">
        <option value="25">25</option>
        <option value="30" selected>30（推奨）</option>
        <option value="35">35</option>
      </select>
    </div>

    <div class="result">
      <div class="result-row">
        <span class="result-text" id="r1">① 1年後の体重目標（参考）：— kg</span>
      </div>
      <div class="result-row">
        <span class="result-text" id="r2">② 目標体重：— kg</span>
        <span class="note">シンクヘルスアプリの下部右「もっと見る ＞ 目標 ＞ 目標体重」に②の値を入力してください</span>
        <button class="copy copy-primary" onclick="copyText('r2')">ここを押す<br/>（コピー）</button>
      </div>
      <div class="result-row">
        <span class="result-text" id="r3">③ 食事エネルギー目標：— kcal / 日</span>
        <span class="note">シンクヘルスアプリの下部右「もっと見る ＞ 目標 ＞ 食事 ＞ エネルギー」に③の値を入力してください</span>
        <button class="copy copy-primary" onclick="copyText('r3')">ここを押す<br/>（コピー）</button>
      </div>
    </div>

    <div class="note">
      ※ 本ツールは目安値を示すものであり、医療行為・診断を目的としたものではありません。<br/>
      ※ 入力されたデータは保存・送信されません。
    </div>
  </div>

  <script>
    const inputs = document.querySelectorAll('input, select');
    inputs.forEach(el => el.addEventListener('input', calculate));

    function calculate() {
      const h = parseFloat(height.value);
      const w = parseFloat(currentWeight.value);
      if (!h || !w) return;

      const bmiVal = parseFloat(bmi.value);
      const red = parseFloat(reduction.value);
      const intakeVal = parseFloat(intake.value);

      const hm = h / 100;
      const targetYear = hm * hm * bmiVal;
      const target = w * (100 - red) / 100;
      const kcal = targetYear * intakeVal;

      r1.textContent = `① 1年後の体重目標（参考）：${targetYear.toFixed(1)} kg`;
      r2.textContent = `② 目標体重：${target.toFixed(1)} kg`;
      r3.textContent = `③ 食事エネルギー目標：${Math.round(kcal)} kcal / 日`;
    }

    function copyText(id) {
      navigator.clipboard.writeText(document.getElementById(id).textContent);
      showToast('コピーしました');
    }
    function showToast(message) {
      let toast = document.querySelector('.toast');
      if (!toast) {
        toast = document.createElement('div');
        toast.className = 'toast';
        document.body.appendChild(toast);
      }
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 1200);
    }
  </script>
</body>
</html>
